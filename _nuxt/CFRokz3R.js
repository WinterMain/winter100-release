import{aE as Be,aF as te,aG as le,v as V,K as J,ab as ze,r as S,aH as xe,aI as D,f as h,a0 as G,aJ as Oe,h as F,a8 as H,o as I,c as de,a as ae,aq as q,ae as M,e as se,w as oe,b as f,ah as re,af as me,ag as K,R as ie,U as ce,ad as Re,ar as be,av as _e,a1 as ve,a2 as Ce,G as U,ac as fe,aK as ue,l as Me,aL as Ae,aM as Ve,i as Te,aN as Fe,ai as Le,aj as Ie,at as W,aO as Ke,aP as Ue,aQ as he,aA as De,a3 as qe,aR as Ge,aS as ye,aT as He,aU as We,ao as je,ap as Je,aV as Qe}from"./CmAA2l1I.js";import{f as Xe,a as Ye}from"./Dnj8X3EN.js";import{t as pe}from"./VtWcIV6i.js";const A=e=>Be(e),Ne="update:modelValue",j=e=>{const a=te(e)?e:[e],n=[];return a.forEach(s=>{var t;te(s)?n.push(...j(s)):le(s)&&te(s.children)?n.push(...j(s.children)):(n.push(s),le(s)&&((t=s.component)!=null&&t.subTree)&&n.push(...j(s.component.subTree)))}),n},Ze=e=>{const a=J();return V(()=>{var n,s;return(s=(n=a==null?void 0:a.proxy)==null?void 0:n.$props)==null?void 0:s[e]})},et=(e,a,n)=>j(e.subTree).filter(o=>{var c;return le(o)&&((c=o.type)==null?void 0:c.name)===a&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),tt=(e,a)=>{const n={},s=ze([]);return{children:s,addChild:c=>{n[c.uid]=c,s.value=et(e,a,n)},removeChild:c=>{delete n[c],s.value=s.value.filter(v=>v.uid!==c)}}},at=(e,a={})=>{const n=S(void 0),s=a.prop?n:Ze("size"),t=a.global?n:xe(),o=a.form?{size:void 0}:D(Xe,void 0),c=a.formItem?{size:void 0}:D(Ye,void 0);return V(()=>s.value||h(e)||(c==null?void 0:c.size)||(o==null?void 0:o.size)||t.value||"")},st=G({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Oe},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),ot={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},nt=F({name:"ElTag"}),lt=F({...nt,props:st,emits:ot,setup(e,{emit:a}){const n=e,s=at(),t=H("tag"),o=V(()=>{const{type:l,hit:g,effect:b,closable:m,round:u}=n;return[t.b(),t.is("closable",m),t.m(l||"primary"),t.m(s.value),t.m(b),t.is("hit",g),t.is("round",u)]}),c=l=>{a("close",l)},v=l=>{a("click",l)},y=l=>{l.component.subTree.component.bum=null};return(l,g)=>l.disableTransitions?(I(),de("span",{key:0,class:M(h(o)),style:ce({backgroundColor:l.color}),onClick:v},[ae("span",{class:M(h(t).e("content"))},[q(l.$slots,"default")],2),l.closable?(I(),se(h(K),{key:0,class:M(h(t).e("close")),onClick:me(c,["stop"])},{default:oe(()=>[f(h(re))]),_:1},8,["class","onClick"])):ie("v-if",!0)],6)):(I(),se(Re,{key:1,name:"".concat(h(t).namespace.value,"-zoom-in-center"),appear:"",onVnodeMounted:y},{default:oe(()=>[ae("span",{class:M(h(o)),style:ce({backgroundColor:l.color}),onClick:v},[ae("span",{class:M(h(t).e("content"))},[q(l.$slots,"default")],2),l.closable?(I(),se(h(K),{key:0,class:M(h(t).e("close")),onClick:me(c,["stop"])},{default:oe(()=>[f(h(re))]),_:1},8,["class","onClick"])):ie("v-if",!0)],6)]),_:3},8,["name"]))}});var rt=be(lt,[["__file","tag.vue"]]);const St=_e(rt),Q=Symbol("tabsRootContextKey"),it=G({tabs:{type:ve(Array),default:()=>Ce([])}}),Se="ElTabBar",ct=F({name:Se}),ut=F({...ct,props:it,setup(e,{expose:a}){const n=e,s=J(),t=D(Q);t||pe(Se,"<el-tabs><el-tab-bar /></el-tabs>");const o=H("tabs"),c=S(),v=S(),y=()=>{let u=0,C=0;const _=["top","bottom"].includes(t.props.tabPosition)?"width":"height",R=_==="width"?"x":"y",i=R==="x"?"left":"top";return n.tabs.every(w=>{var B,z;const $=(z=(B=s.parent)==null?void 0:B.refs)==null?void 0:z["tab-".concat(w.uid)];if(!$)return!1;if(!w.active)return!0;u=$["offset".concat(A(i))],C=$["client".concat(A(_))];const x=window.getComputedStyle($);return _==="width"&&(C-=Number.parseFloat(x.paddingLeft)+Number.parseFloat(x.paddingRight),u+=Number.parseFloat(x.paddingLeft)),!1}),{[_]:"".concat(C,"px"),transform:"translate".concat(A(R),"(").concat(u,"px)")}},l=()=>v.value=y(),g=[],b=()=>{var u;g.forEach(_=>_.stop()),g.length=0;const C=(u=s.parent)==null?void 0:u.refs;if(C){for(const _ in C)if(_.startsWith("tab-")){const R=C[_];R&&g.push(ue(R,l))}}};U(()=>n.tabs,async()=>{await fe(),l(),b()},{immediate:!0});const m=ue(c,()=>l());return Me(()=>{g.forEach(u=>u.stop()),g.length=0,m.stop()}),a({ref:c,update:l}),(u,C)=>(I(),de("div",{ref_key:"barRef",ref:c,class:M([h(o).e("active-bar"),h(o).is(h(t).props.tabPosition)]),style:ce(v.value)},null,6))}});var dt=be(ut,[["__file","tab-bar.vue"]]);const bt=G({panes:{type:ve(Array),default:()=>Ce([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),vt={tabClick:(e,a,n)=>n instanceof Event,tabRemove:(e,a)=>a instanceof Event},ge="ElTabNav",ft=F({name:ge,props:bt,emits:vt,setup(e,{expose:a,emit:n}){const s=D(Q);s||pe(ge,"<el-tabs><tab-nav /></el-tabs>");const t=H("tabs"),o=Ae(),c=Ve(),v=S(),y=S(),l=S(),g=S(),b=S(!1),m=S(0),u=S(!1),C=S(!0),_=V(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),R=V(()=>{const d=_.value==="width"?"X":"Y";return{transform:"translate".concat(d,"(-").concat(m.value,"px)")}}),i=()=>{if(!v.value)return;const d=v.value["offset".concat(A(_.value))],p=m.value;if(!p)return;const r=p>d?p-d:0;m.value=r},w=()=>{if(!v.value||!y.value)return;const d=y.value["offset".concat(A(_.value))],p=v.value["offset".concat(A(_.value))],r=m.value;if(d-r<=p)return;const E=d-r>p*2?r+p:d-p;m.value=E},B=async()=>{const d=y.value;if(!b.value||!l.value||!v.value||!d)return;await fe();const p=l.value.querySelector(".is-active");if(!p)return;const r=v.value,E=["top","bottom"].includes(s.props.tabPosition),P=p.getBoundingClientRect(),N=r.getBoundingClientRect(),O=E?d.offsetWidth-N.width:d.offsetHeight-N.height,k=m.value;let T=k;E?(P.left<N.left&&(T=k-(N.left-P.left)),P.right>N.right&&(T=k+P.right-N.right)):(P.top<N.top&&(T=k-(N.top-P.top)),P.bottom>N.bottom&&(T=k+(P.bottom-N.bottom))),T=Math.max(T,0),m.value=Math.min(T,O)},z=()=>{var d;if(!y.value||!v.value)return;e.stretch&&((d=g.value)==null||d.update());const p=y.value["offset".concat(A(_.value))],r=v.value["offset".concat(A(_.value))],E=m.value;r<p?(b.value=b.value||{},b.value.prev=E,b.value.next=E+r<p,p-E<r&&(m.value=p-r)):(b.value=!1,E>0&&(m.value=0))},$=d=>{const p=d.code,{up:r,down:E,left:P,right:N}=W;if(![r,E,P,N].includes(p))return;const O=Array.from(d.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),k=O.indexOf(d.target);let T;p===P||p===r?k===0?T=O.length-1:T=k-1:k<O.length-1?T=k+1:T=0,O[T].focus({preventScroll:!0}),O[T].click(),x()},x=()=>{C.value&&(u.value=!0)},X=()=>u.value=!1;return U(o,d=>{d==="hidden"?C.value=!1:d==="visible"&&setTimeout(()=>C.value=!0,50)}),U(c,d=>{d?setTimeout(()=>C.value=!0,50):C.value=!1}),ue(l,z),Te(()=>setTimeout(()=>B(),0)),Fe(()=>z()),a({scrollToActiveTab:B,removeFocus:X}),()=>{const d=b.value?[f("span",{class:[t.e("nav-prev"),t.is("disabled",!b.value.prev)],onClick:i},[f(K,null,{default:()=>[f(Le,null,null)]})]),f("span",{class:[t.e("nav-next"),t.is("disabled",!b.value.next)],onClick:w},[f(K,null,{default:()=>[f(Ie,null,null)]})])]:null,p=e.panes.map((r,E)=>{var P,N,O,k;const T=r.uid,Y=r.props.disabled,Z=(N=(P=r.props.name)!=null?P:r.index)!=null?N:"".concat(E),ee=!Y&&(r.isClosable||e.editable);r.index="".concat(E);const $e=ee?f(K,{class:"is-icon-close",onClick:L=>n("tabRemove",r,L)},{default:()=>[f(re,null,null)]}):null,ke=((k=(O=r.slots).label)==null?void 0:k.call(O))||r.props.label,we=!Y&&r.active?0:-1;return f("div",{ref:"tab-".concat(T),class:[t.e("item"),t.is(s.props.tabPosition),t.is("active",r.active),t.is("disabled",Y),t.is("closable",ee),t.is("focus",u.value)],id:"tab-".concat(Z),key:"tab-".concat(T),"aria-controls":"pane-".concat(Z),role:"tab","aria-selected":r.active,tabindex:we,onFocus:()=>x(),onBlur:()=>X(),onClick:L=>{X(),n("tabClick",r,Z,L)},onKeydown:L=>{ee&&(L.code===W.delete||L.code===W.backspace)&&n("tabRemove",r,L)}},[ke,$e])});return f("div",{ref:l,class:[t.e("nav-wrap"),t.is("scrollable",!!b.value),t.is(s.props.tabPosition)]},[d,f("div",{class:t.e("nav-scroll"),ref:v},[f("div",{class:[t.e("nav"),t.is(s.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:y,style:R.value,role:"tablist",onKeydown:$},[e.type?null:f(dt,{ref:g,tabs:[...e.panes]},null),p])])])}}}),pt=G({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ve(Function),default:()=>!0},stretch:Boolean}),ne=e=>De(e)||qe(e),mt={[Ne]:e=>ne(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>ne(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>ne(e),tabAdd:()=>!0},ht=F({name:"ElTabs",props:pt,emits:mt,setup(e,{emit:a,slots:n,expose:s}){var t;const o=H("tabs"),c=V(()=>["left","right"].includes(e.tabPosition)),{children:v,addChild:y,removeChild:l}=tt(J(),"ElTabPane"),g=S(),b=S((t=e.modelValue)!=null?t:"0"),m=async(i,w=!1)=>{var B,z,$;if(!(b.value===i||he(i)))try{await((B=e.beforeLeave)==null?void 0:B.call(e,i,b.value))!==!1&&(b.value=i,w&&(a(Ne,i),a("tabChange",i)),($=(z=g.value)==null?void 0:z.removeFocus)==null||$.call(z))}catch(x){}},u=(i,w,B)=>{i.props.disabled||(m(w,!0),a("tabClick",i,B))},C=(i,w)=>{i.props.disabled||he(i.props.name)||(w.stopPropagation(),a("edit",i.props.name,"remove"),a("tabRemove",i.props.name))},_=()=>{a("edit",void 0,"add"),a("tabAdd")};U(()=>e.modelValue,i=>m(i)),U(b,async()=>{var i;await fe(),(i=g.value)==null||i.scrollToActiveTab()}),Ke(Q,{props:e,currentName:b,registerPane:i=>{v.value.push(i)},sortPane:y,unregisterPane:l}),s({currentName:b});const R=({render:i})=>i();return()=>{const i=n["add-icon"],w=e.editable||e.addable?f("div",{class:[o.e("new-tab"),c.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:_,onKeydown:$=>{$.code===W.enter&&_()}},[i?q(n,"add-icon"):f(K,{class:o.is("icon-plus")},{default:()=>[f(Ue,null,null)]})]):null,B=f("div",{class:[o.e("header"),c.value&&o.e("header-vertical"),o.is(e.tabPosition)]},[f(R,{render:()=>{const $=v.value.some(x=>x.slots.label);return f(ft,{ref:g,currentName:b.value,editable:e.editable,type:e.type,panes:v.value,stretch:e.stretch,onTabClick:u,onTabRemove:C},{$stable:!$})}},null),w]),z=f("div",{class:o.e("content")},[q(n,"default")]);return f("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:e.type==="card",[o.m("border-card")]:e.type==="border-card"}]},[z,B])}}}),yt=G({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ee="ElTabPane",gt=F({name:Ee}),_t=F({...gt,props:yt,setup(e){const a=e,n=J(),s=Ge(),t=D(Q);t||pe(Ee,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=H("tab-pane"),c=S(),v=V(()=>a.closable||t.props.closable),y=ye(()=>{var u;return t.currentName.value===((u=a.name)!=null?u:c.value)}),l=S(y.value),g=V(()=>{var u;return(u=a.name)!=null?u:c.value}),b=ye(()=>!a.lazy||l.value||y.value);U(y,u=>{u&&(l.value=!0)});const m=He({uid:n.uid,slots:s,props:a,paneName:g,active:y,index:c,isClosable:v});return t.registerPane(m),Te(()=>{t.sortPane(m)}),We(()=>{t.unregisterPane(m.uid)}),(u,C)=>h(b)?je((I(),de("div",{key:0,id:"pane-".concat(h(g)),class:M(h(o).b()),role:"tabpanel","aria-hidden":!h(y),"aria-labelledby":"tab-".concat(h(g))},[q(u.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Je,h(y)]]):ie("v-if",!0)}});var Pe=be(_t,[["__file","tab-pane.vue"]]);const Et=_e(ht,{TabPane:Pe}),Pt=Qe(Pe);export{Pt as E,Et as a,St as b};
