import{E as Z,a as K,b as O}from"./bTWDb_Am.js";import{A as R,r as Y,_ as q}from"./DowiolE6.js";import{E as J}from"./CiG6z4R0.js";import{u as H,r as z,j as g,b as Q,V as W,w as X,o as n,c as _,d as a,e as T,x as b,F as k,s as E,g as l,f,au as S,Y as ee,v as A,y as C,t as m,E as te,k as se,_ as ae}from"./Cp_KR1PM.js";import{u as ne}from"./BWRuL0ix.js";import{u as oe}from"./ndaC8I5d.js";const le={博客:"Blog",图文:"Graphics & Text",最新:"Newest",热门:"Hot",热门标签:"Hot Tags",该文章支持多种语_294b:"This article supports reading in multiple languages"},ce={博客:"博客",图文:"图文",最新:"最新",热门:"热门",热门标签:"热门标签",该文章支持多种语_294b:"该文章支持多种语言阅读"},re={博客:"博客",图文:"圖文",最新:"最新",热门:"熱門",热门标签:"熱門標簽",该文章支持多种语_294b:"該文章支持多種語言閱讀"},P={en_US:le,zh_Hans_CN:ce,zh_Hant_HK:re},ie={class:"p-blog"},ue={class:"c-outer bg-white"},_e={class:"blog-item-container"},de={class:"flex-1"},pe={class:"title-area"},ge={class:"flex-1"},me={class:"title"},fe=["href"],ve={class:"li-bottom"},be={key:0,class:"space-x-4 flex items-center"},he={class:"li-meta"},xe={class:"user"},ye={class:"date"},ze={class:"p-30 text-center flex justify-center"},Te={class:"c-aside"},ke={class:"fixed-area"},Ee={class:"side-box"},we={class:"side-title"},Se={class:"side-body"},Ae={__name:"Page",setup(B){const c=e=>{const p=H().$lang.value||"zh_Hans_CN",o=P[p]||P.zh_Hans_CN||{};return o[e]===void 0?e:o[e]},h=H(),v=z("new"),N=z(),r=z(15),d=z(1),V=[15,20,50,100],M=g(()=>R.map(e=>Y(e))),$=g(()=>{const e=r.value*(d.value-1);let t=e+r.value-1;return t>y.value.length-1&&(t=y.value.length-1),{from:e,to:t}}),x=g(()=>ne(M.value).concat().filter(e=>e.c==="blog").sort((e,t)=>new Date(t.ti).getTime()-new Date(e.ti).getTime())),y=g(()=>v.value==="new"?x.value:v.value==="hot"?x.value.concat().sort((e,t)=>t.di-e.di):x.value.filter(e=>e.pi)),U=g(()=>{const e={};x.value.forEach(o=>{o.ta&&o.ta.forEach(u=>{e[u]=e[u]||0,e[u]++})});const t=Object.keys(e),p=t.map(o=>({name:o,count:e[o]})).sort((o,u)=>u.count-o.count);return{dict:e,tags:t,list:p,topList:p.slice(0,60)}}),D=g(()=>[{name:"new",label:c("最新")},{name:"hot",label:c("热门")},{name:"pic",label:c("图文")}]);return Q({title:c("博客")+h.$brand.websiteSuffix,ogTitle:c("博客")+h.$brand.websiteSuffix}),W(r,()=>{localStorage.PAGE_SIZE=r.value}),X(()=>{const e=parseInt(localStorage.PAGE_SIZE);V.includes(e)&&(r.value=e)}),oe(N),(e,t)=>{const p=Z,o=K,u=q,w=J,I=te,j=O,F=se;return n(),_("div",ie,[a("div",{ref_key:"container",ref:N,class:"page-container pt-30 pb-60"},[a("div",ue,[T(o,{modelValue:l(v),"onUpdate:modelValue":t[0]||(t[0]=s=>S(v)?v.value=s:null),class:"demo-tabs",onTabChange:t[1]||(t[1]=s=>d.value=1)},{default:b(()=>[(n(!0),_(k,null,E(l(D),(s,i)=>(n(),f(p,{key:i,label:s.label||s.name,name:s.name},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),(n(!0),_(k,null,E(l(y),(s,i)=>(n(),_("div",{key:i,class:ee(["blog-item",{hidden:i<l($).from||i>l($).to}])},[a("div",_e,[s.pi?(n(),f(u,{key:i+"image"+l(d),class:"image",src:s.pi,alt:""},null,8,["src"])):A("",!0),a("div",de,[a("div",pe,[a("div",ge,[a("p",me,[a("a",{target:"_blank",href:"/blog/".concat(s.id),class:"link"},[s.language?(n(),f(I,{key:0,content:c("该文章支持多种语_294b")},{default:b(()=>[T(w,{class:"lang-tag"},{default:b(()=>t[4]||(t[4]=[a("i",{class:"iconfont icon-duoyuyan"},null,-1)])),_:1})]),_:1},8,["content"])):A("",!0),C(" "+m(s.t),1)],8,fe)])])]),a("div",ve,[s.ta&&s.ta.length>0?(n(),_("div",be,[(n(!0),_(k,null,E(s.ta,(G,L)=>(n(),f(w,{key:L,size:"small"},{default:b(()=>[C(m(G),1)]),_:2},1024))),128))])):A("",!0),a("p",he,[a("span",xe,m(s.au),1),t[5]||(t[5]=a("span",null,"·",-1)),a("span",ye,m(e.$formatTime(new Date(s.ti).getTime(),"yyyy-MM-dd")),1)])])])])],2))),128)),a("div",ze,[T(j,{"current-page":l(d),"onUpdate:currentPage":t[2]||(t[2]=s=>S(d)?d.value=s:null),"page-size":l(r),"onUpdate:pageSize":t[3]||(t[3]=s=>S(r)?r.value=s:null),class:"mx-auto is-background",background:"",layout:"prev, pager, next, sizes",total:l(y).length,"page-sizes":V},null,8,["current-page","page-size","total"])])]),a("div",Te,[a("div",ke,[a("div",Ee,[a("div",we,m(c("热门标签")),1),a("div",Se,[(n(!0),_(k,null,E(l(U).topList,(s,i)=>(n(),f(w,{key:i},{default:b(()=>[C(m(s.name),1)]),_:2},1024))),128))])]),T(F,{auto:"",class:"side-adsense"})])])],512)])}}},Ce={};function Ne(B,c){const h=Ae;return n(),f(h)}const Ue=ae(Ce,[["render",Ne]]);export{Ue as default};
