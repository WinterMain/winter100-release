import{E as Z,a as K,b as O}from"./CpmSNSLi.js";import{A as R,r as q,u as J,_ as Q,a as W,E as X}from"./BYNL1eLI.js";import{u as H,r as y,j as g,b as Y,a6 as ee,w as te,o as n,c as _,d as a,e as w,x as S,F as k,s as z,g as l,f,au as T,P as se,v as E,y as A,t as m,k as ae,_ as ne}from"./D_Yg-LIA.js";import{u as oe}from"./vBc91IMl.js";const le={博客:"Blog",图文:"Graphics & Text",最新:"Newest",热门:"Hot",热门标签:"Hot Tags"},ce={博客:"博客",图文:"图文",最新:"最新",热门:"热门",热门标签:"热门标签"},re={博客:"博客",图文:"圖文",最新:"最新",热门:"熱門",热门标签:"熱門標簽"},V={en_US:le,zh_Hans_CN:ce,zh_Hant_HK:re},ie={class:"p-blog"},ue={class:"c-outer bg-white"},_e={class:"blog-item-container"},de={class:"flex-1"},pe={class:"title-area"},ge={class:"flex-1"},me={class:"title"},fe=["href"],ve={class:"li-bottom"},be={key:0,class:"space-x-4 flex items-center"},he={class:"li-meta"},xe={class:"user"},ye={class:"date"},ke={class:"p-30 text-center flex justify-center"},ze={class:"c-aside"},we={class:"fixed-area"},Se={class:"side-box"},Te={class:"side-title"},Ee={class:"side-body"},Ae={__name:"Page",setup(B){const i=e=>{const p=H().$lang.value||"zh_Hans_CN",o=V[p]||V.zh_Hans_CN||{};return o[e]===void 0?e:o[e]},b=H(),v=y("new"),$=y(),c=y(15),d=y(1),C=[15,20,50,100],M=g(()=>R.map(e=>q(e))),N=g(()=>{const e=c.value*(d.value-1);let s=e+c.value-1;return s>x.value.length-1&&(s=x.value.length-1),{from:e,to:s}}),h=g(()=>J(M.value).concat().filter(e=>e.c==="blog").sort((e,s)=>new Date(s.ti).getTime()-new Date(e.ti).getTime())),x=g(()=>v.value==="new"?h.value:v.value==="hot"?h.value.concat().sort((e,s)=>s.di-e.di):h.value.filter(e=>e.pi)),U=g(()=>{const e={};h.value.forEach(o=>{o.ta&&o.ta.forEach(u=>{e[u]=e[u]||0,e[u]++})});const s=Object.keys(e),p=s.map(o=>({name:o,count:e[o]})).sort((o,u)=>u.count-o.count);return{dict:e,tags:s,list:p,topList:p.slice(0,60)}}),D=g(()=>[{name:"new",label:i("最新")},{name:"hot",label:i("热门")},{name:"pic",label:i("图文")}]);return Y({title:i("博客")+b.$brand.websiteSuffix,ogTitle:i("博客")+b.$brand.websiteSuffix}),ee(c,()=>{localStorage.PAGE_SIZE=c.value}),te(()=>{const e=parseInt(localStorage.PAGE_SIZE);C.includes(e)&&(c.value=e)}),oe($),(e,s)=>{const p=Z,o=K,u=Q,I=W,P=X,j=O,F=ae;return n(),_("div",ie,[a("div",{ref_key:"container",ref:$,class:"page-container pt-30 pb-60"},[a("div",ue,[w(o,{modelValue:l(v),"onUpdate:modelValue":s[0]||(s[0]=t=>T(v)?v.value=t:null),class:"demo-tabs",onTabChange:s[1]||(s[1]=t=>d.value=1)},{default:S(()=>[(n(!0),_(k,null,z(l(D),(t,r)=>(n(),f(p,{key:r,label:t.label||t.name,name:t.name},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),(n(!0),_(k,null,z(l(x),(t,r)=>(n(),_("div",{key:r,class:se(["blog-item",{hidden:r<l(N).from||r>l(N).to}])},[a("div",_e,[t.pi?(n(),f(u,{key:r+"image"+l(d),class:"image",src:t.pi,alt:""},null,8,["src"])):E("",!0),a("div",de,[a("div",pe,[a("div",ge,[a("p",me,[a("a",{target:"_blank",href:"/blog/".concat(t.id),class:"link"},[t.language?(n(),f(I,{key:0})):E("",!0),A(" "+m(t.t),1)],8,fe)])])]),a("div",ve,[t.ta&&t.ta.length>0?(n(),_("div",be,[(n(!0),_(k,null,z(t.ta,(G,L)=>(n(),f(P,{key:L,size:"small"},{default:S(()=>[A(m(G),1)]),_:2},1024))),128))])):E("",!0),a("p",he,[a("span",xe,m(t.au),1),s[4]||(s[4]=a("span",null,"·",-1)),a("span",ye,m(e.$formatTime(new Date(t.ti).getTime(),"yyyy-MM-dd")),1)])])])])],2))),128)),a("div",ke,[w(j,{"current-page":l(d),"onUpdate:currentPage":s[2]||(s[2]=t=>T(d)?d.value=t:null),"page-size":l(c),"onUpdate:pageSize":s[3]||(s[3]=t=>T(c)?c.value=t:null),class:"mx-auto is-background",background:"",layout:"prev, pager, next, sizes",total:l(x).length,"page-sizes":C},null,8,["current-page","page-size","total"])])]),a("div",ze,[a("div",we,[a("div",Se,[a("div",Te,m(i("热门标签")),1),a("div",Ee,[(n(!0),_(k,null,z(l(U).topList,(t,r)=>(n(),f(P,{key:r},{default:S(()=>[A(m(t.name),1)]),_:2},1024))),128))])]),w(F,{auto:"",class:"side-adsense"})])])],512)])}}},$e={};function Ce(B,i){const b=Ae;return n(),f(b)}const Be=ne($e,[["render",Ce]]);export{Be as default};
