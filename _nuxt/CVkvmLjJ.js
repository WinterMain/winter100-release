import{E as Z,a as j,b as K}from"./DLEnLbQn.js";import{A as O,r as Q,u as R,_ as q,a as J,E as W}from"./CaKIzFBW.js";import{u as P,r as x,k as g,a7 as X,x as Y,o as n,c as _,b as a,d as k,y as E,F as y,v as z,f as l,e as v,av as T,Q as ee,w,z as C,t as f,l as te,_ as se}from"./BjuU3T-2.js";import{u as ae}from"./CsoAFdo6.js";import{u as ne}from"./DfcZr7Sz.js";const oe={博客:"Blog",图文:"Graphics & Text",最新:"Newest",热门:"Hot",热门标签:"Hot Tags"},le={博客:"博客",图文:"图文",最新:"最新",热门:"热门",热门标签:"热门标签"},ce={博客:"博客",图文:"圖文",最新:"最新",热门:"熱門",热门标签:"熱門標簽"},V={en_US:oe,zh_Hans_CN:le,zh_Hant_HK:ce},re={class:"p-blog"},ie={class:"c-outer bg-white"},ue={class:"blog-item-container"},_e={class:"flex-1"},de={class:"title-area"},pe={class:"flex-1"},me={class:"title"},ge=["href"],fe={class:"li-bottom"},ve={key:0,class:"space-x-4 flex items-center"},he={class:"li-meta"},be={class:"user"},xe={class:"date"},ye={class:"p-30 text-center flex justify-center"},ze={class:"c-aside"},ke={class:"fixed-area"},Ee={class:"side-box"},Te={class:"side-title"},we={class:"side-body"},Ce={__name:"Page",setup($){const d=e=>{const m=P().$lang.value||"zh_Hans_CN",o=V[m]||V.zh_Hans_CN||{};return o[e]===void 0?e:o[e]};P();const i=x("new"),S=x(),c=x(15),p=x(1),A=[15,20,50,100],B=g(()=>O.map(e=>Q(e))),H=g(()=>{const e=c.value*(p.value-1);let s=e+c.value-1;return s>b.value.length-1&&(s=b.value.length-1),{from:e,to:s}}),h=g(()=>R(B.value).concat().filter(e=>e.c==="blog").sort((e,s)=>new Date(s.ti).getTime()-new Date(e.ti).getTime())),b=g(()=>i.value==="new"?h.value:i.value==="hot"?h.value.concat().sort((e,s)=>s.di-e.di):h.value.filter(e=>e.pi)),M=g(()=>{const e={};h.value.forEach(o=>{o.ta&&o.ta.forEach(u=>{e[u]=e[u]||0,e[u]++})});const s=Object.keys(e),m=s.map(o=>({name:o,count:e[o]})).sort((o,u)=>u.count-o.count);return{dict:e,tags:s,list:m,topList:m.slice(0,60)}}),U=g(()=>[{name:"new",label:d("最新")},{name:"hot",label:d("热门")},{name:"pic",label:d("图文")}]);return ae().setPageHead({title:d("博客")}),X(c,()=>{localStorage.PAGE_SIZE=c.value}),Y(()=>{const e=parseInt(localStorage.PAGE_SIZE);A.includes(e)&&(c.value=e)}),ne(S),(e,s)=>{const m=Z,o=j,u=q,D=J,N=W,I=K,F=te;return n(),_("div",re,[a("div",{ref_key:"container",ref:S,class:"page-container pt-30 pb-60"},[a("div",ie,[k(o,{modelValue:l(i),"onUpdate:modelValue":s[0]||(s[0]=t=>T(i)?i.value=t:null),class:"demo-tabs",onTabChange:s[1]||(s[1]=t=>p.value=1)},{default:E(()=>[(n(!0),_(y,null,z(l(U),(t,r)=>(n(),v(m,{key:r,label:t.label||t.name,name:t.name},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),(n(!0),_(y,null,z(l(b),(t,r)=>(n(),_("div",{key:r,class:ee(["blog-item",{hidden:r<l(H).from||r>l(H).to}])},[a("div",ue,[t.pi?(n(),v(u,{key:r+"image"+l(p),class:"image",src:t.pi,alt:""},null,8,["src"])):w("",!0),a("div",_e,[a("div",de,[a("div",pe,[a("p",me,[a("a",{target:"_blank",href:"/blog/".concat(t.id),class:"link"},[t.language?(n(),v(D,{key:0})):w("",!0),C(" "+f(t.t),1)],8,ge)])])]),a("div",fe,[t.ta&&t.ta.length>0?(n(),_("div",ve,[(n(!0),_(y,null,z(t.ta,(G,L)=>(n(),v(N,{key:L,size:"small"},{default:E(()=>[C(f(G),1)]),_:2},1024))),128))])):w("",!0),a("p",he,[a("span",be,f(t.au),1),s[4]||(s[4]=a("span",null,"·",-1)),a("span",xe,f(e.$formatTime(new Date(t.ti).getTime(),"yyyy-MM-dd")),1)])])])])],2))),128)),a("div",ye,[k(I,{"current-page":l(p),"onUpdate:currentPage":s[2]||(s[2]=t=>T(p)?p.value=t:null),"page-size":l(c),"onUpdate:pageSize":s[3]||(s[3]=t=>T(c)?c.value=t:null),class:"mx-auto is-background",background:"",layout:"prev, pager, next, sizes",total:l(b).length,"page-sizes":A},null,8,["current-page","page-size","total"])])]),a("div",ze,[a("div",ke,[a("div",Ee,[a("div",Te,f(d("热门标签")),1),a("div",we,[(n(!0),_(y,null,z(l(M).topList,(t,r)=>(n(),v(N,{key:r},{default:E(()=>[C(f(t.name),1)]),_:2},1024))),128))])]),k(F,{auto:"",class:"side-adsense"})])])],512)])}}},Se={};function Ae($,d){const i=Ce;return n(),v(i)}const Be=se(Se,[["render",Ae]]);export{Be as default};
