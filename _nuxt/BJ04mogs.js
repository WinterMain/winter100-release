import{aD as Be,aE as te,aF as le,v as V,K as J,aa as ze,r as S,aG as xe,aH as U,f as h,$ as G,aI as Oe,h as F,a7 as H,o as I,c as de,a as ae,ap as q,ad as M,e as se,w as ne,b as f,ag as re,ae as me,af as K,R as ie,T as ce,ac as Re,aq as be,au as _e,a0 as ve,a1 as Ce,G as D,ab as fe,aJ as ue,l as Me,aK as Ae,aL as Ve,i as Te,aM as Fe,ah as Le,ai as Ie,as as W,aN as Ke,aO as De,aP as he,az as Ue,a2 as qe,aQ as Ge,aR as ye,aS as He,aT as We,an as je,ao as Je,aU as Qe}from"./CvjcbWOO.js";import{f as Xe,a as Ye}from"./Dnj8X3EN.js";import{t as pe}from"./VtWcIV6i.js";const A=e=>Be(e),Ne="update:modelValue",j=e=>{const a=te(e)?e:[e],o=[];return a.forEach(s=>{var t;te(s)?o.push(...j(s)):le(s)&&te(s.children)?o.push(...j(s.children)):(o.push(s),le(s)&&((t=s.component)!=null&&t.subTree)&&o.push(...j(s.component.subTree)))}),o},Ze=e=>{const a=J();return V(()=>{var o,s;return(s=(o=a==null?void 0:a.proxy)==null?void 0:o.$props)==null?void 0:s[e]})},et=(e,a,o)=>j(e.subTree).filter(n=>{var c;return le(n)&&((c=n.type)==null?void 0:c.name)===a&&!!n.component}).map(n=>n.component.uid).map(n=>o[n]).filter(n=>!!n),tt=(e,a)=>{const o={},s=ze([]);return{children:s,addChild:c=>{o[c.uid]=c,s.value=et(e,a,o)},removeChild:c=>{delete o[c],s.value=s.value.filter(v=>v.uid!==c)}}},at=(e,a={})=>{const o=S(void 0),s=a.prop?o:Ze("size"),t=a.global?o:xe(),n=a.form?{size:void 0}:U(Xe,void 0),c=a.formItem?{size:void 0}:U(Ye,void 0);return V(()=>s.value||h(e)||(c==null?void 0:c.size)||(n==null?void 0:n.size)||t.value||"")},st=G({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Oe},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),nt={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},ot=F({name:"ElTag"}),lt=F({...ot,props:st,emits:nt,setup(e,{emit:a}){const o=e,s=at(),t=H("tag"),n=V(()=>{const{type:l,hit:g,effect:b,closable:m,round:u}=o;return[t.b(),t.is("closable",m),t.m(l||"primary"),t.m(s.value),t.m(b),t.is("hit",g),t.is("round",u)]}),c=l=>{a("close",l)},v=l=>{a("click",l)},y=l=>{l.component.subTree.component.bum=null};return(l,g)=>l.disableTransitions?(I(),de("span",{key:0,class:M(h(n)),style:ce({backgroundColor:l.color}),onClick:v},[ae("span",{class:M(h(t).e("content"))},[q(l.$slots,"default")],2),l.closable?(I(),se(h(K),{key:0,class:M(h(t).e("close")),onClick:me(c,["stop"])},{default:ne(()=>[f(h(re))]),_:1},8,["class","onClick"])):ie("v-if",!0)],6)):(I(),se(Re,{key:1,name:"".concat(h(t).namespace.value,"-zoom-in-center"),appear:"",onVnodeMounted:y},{default:ne(()=>[ae("span",{class:M(h(n)),style:ce({backgroundColor:l.color}),onClick:v},[ae("span",{class:M(h(t).e("content"))},[q(l.$slots,"default")],2),l.closable?(I(),se(h(K),{key:0,class:M(h(t).e("close")),onClick:me(c,["stop"])},{default:ne(()=>[f(h(re))]),_:1},8,["class","onClick"])):ie("v-if",!0)],6)]),_:3},8,["name"]))}});var rt=be(lt,[["__file","tag.vue"]]);const St=_e(rt),Q=Symbol("tabsRootContextKey"),it=G({tabs:{type:ve(Array),default:()=>Ce([])}}),Se="ElTabBar",ct=F({name:Se}),ut=F({...ct,props:it,setup(e,{expose:a}){const o=e,s=J(),t=U(Q);t||pe(Se,"<el-tabs><el-tab-bar /></el-tabs>");const n=H("tabs"),c=S(),v=S(),y=()=>{let u=0,C=0;const _=["top","bottom"].includes(t.props.tabPosition)?"width":"height",R=_==="width"?"x":"y",i=R==="x"?"left":"top";return o.tabs.every(w=>{var B,z;const P=(z=(B=s.parent)==null?void 0:B.refs)==null?void 0:z["tab-".concat(w.uid)];if(!P)return!1;if(!w.active)return!0;u=P["offset".concat(A(i))],C=P["client".concat(A(_))];const x=window.getComputedStyle(P);return _==="width"&&(C-=Number.parseFloat(x.paddingLeft)+Number.parseFloat(x.paddingRight),u+=Number.parseFloat(x.paddingLeft)),!1}),{[_]:"".concat(C,"px"),transform:"translate".concat(A(R),"(").concat(u,"px)")}},l=()=>v.value=y(),g=[],b=()=>{var u;g.forEach(_=>_.stop()),g.length=0;const C=(u=s.parent)==null?void 0:u.refs;if(C){for(const _ in C)if(_.startsWith("tab-")){const R=C[_];R&&g.push(ue(R,l))}}};D(()=>o.tabs,async()=>{await fe(),l(),b()},{immediate:!0});const m=ue(c,()=>l());return Me(()=>{g.forEach(u=>u.stop()),g.length=0,m.stop()}),a({ref:c,update:l}),(u,C)=>(I(),de("div",{ref_key:"barRef",ref:c,class:M([h(n).e("active-bar"),h(n).is(h(t).props.tabPosition)]),style:ce(v.value)},null,6))}});var dt=be(ut,[["__file","tab-bar.vue"]]);const bt=G({panes:{type:ve(Array),default:()=>Ce([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),vt={tabClick:(e,a,o)=>o instanceof Event,tabRemove:(e,a)=>a instanceof Event},ge="ElTabNav",ft=F({name:ge,props:bt,emits:vt,setup(e,{expose:a,emit:o}){const s=U(Q);s||pe(ge,"<el-tabs><tab-nav /></el-tabs>");const t=H("tabs"),n=Ae(),c=Ve(),v=S(),y=S(),l=S(),g=S(),b=S(!1),m=S(0),u=S(!1),C=S(!0),_=V(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),R=V(()=>{const d=_.value==="width"?"X":"Y";return{transform:"translate".concat(d,"(-").concat(m.value,"px)")}}),i=()=>{if(!v.value)return;const d=v.value["offset".concat(A(_.value))],p=m.value;if(!p)return;const r=p>d?p-d:0;m.value=r},w=()=>{if(!v.value||!y.value)return;const d=y.value["offset".concat(A(_.value))],p=v.value["offset".concat(A(_.value))],r=m.value;if(d-r<=p)return;const $=d-r>p*2?r+p:d-p;m.value=$},B=async()=>{const d=y.value;if(!b.value||!l.value||!v.value||!d)return;await fe();const p=l.value.querySelector(".is-active");if(!p)return;const r=v.value,$=["top","bottom"].includes(s.props.tabPosition),E=p.getBoundingClientRect(),N=r.getBoundingClientRect(),O=$?d.offsetWidth-N.width:d.offsetHeight-N.height,k=m.value;let T=k;$?(E.left<N.left&&(T=k-(N.left-E.left)),E.right>N.right&&(T=k+E.right-N.right)):(E.top<N.top&&(T=k-(N.top-E.top)),E.bottom>N.bottom&&(T=k+(E.bottom-N.bottom))),T=Math.max(T,0),m.value=Math.min(T,O)},z=()=>{var d;if(!y.value||!v.value)return;e.stretch&&((d=g.value)==null||d.update());const p=y.value["offset".concat(A(_.value))],r=v.value["offset".concat(A(_.value))],$=m.value;r<p?(b.value=b.value||{},b.value.prev=$,b.value.next=$+r<p,p-$<r&&(m.value=p-r)):(b.value=!1,$>0&&(m.value=0))},P=d=>{const p=d.code,{up:r,down:$,left:E,right:N}=W;if(![r,$,E,N].includes(p))return;const O=Array.from(d.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),k=O.indexOf(d.target);let T;p===E||p===r?k===0?T=O.length-1:T=k-1:k<O.length-1?T=k+1:T=0,O[T].focus({preventScroll:!0}),O[T].click(),x()},x=()=>{C.value&&(u.value=!0)},X=()=>u.value=!1;return D(n,d=>{d==="hidden"?C.value=!1:d==="visible"&&setTimeout(()=>C.value=!0,50)}),D(c,d=>{d?setTimeout(()=>C.value=!0,50):C.value=!1}),ue(l,z),Te(()=>setTimeout(()=>B(),0)),Fe(()=>z()),a({scrollToActiveTab:B,removeFocus:X}),()=>{const d=b.value?[f("span",{class:[t.e("nav-prev"),t.is("disabled",!b.value.prev)],onClick:i},[f(K,null,{default:()=>[f(Le,null,null)]})]),f("span",{class:[t.e("nav-next"),t.is("disabled",!b.value.next)],onClick:w},[f(K,null,{default:()=>[f(Ie,null,null)]})])]:null,p=e.panes.map((r,$)=>{var E,N,O,k;const T=r.uid,Y=r.props.disabled,Z=(N=(E=r.props.name)!=null?E:r.index)!=null?N:"".concat($),ee=!Y&&(r.isClosable||e.editable);r.index="".concat($);const Pe=ee?f(K,{class:"is-icon-close",onClick:L=>o("tabRemove",r,L)},{default:()=>[f(re,null,null)]}):null,ke=((k=(O=r.slots).label)==null?void 0:k.call(O))||r.props.label,we=!Y&&r.active?0:-1;return f("div",{ref:"tab-".concat(T),class:[t.e("item"),t.is(s.props.tabPosition),t.is("active",r.active),t.is("disabled",Y),t.is("closable",ee),t.is("focus",u.value)],id:"tab-".concat(Z),key:"tab-".concat(T),"aria-controls":"pane-".concat(Z),role:"tab","aria-selected":r.active,tabindex:we,onFocus:()=>x(),onBlur:()=>X(),onClick:L=>{X(),o("tabClick",r,Z,L)},onKeydown:L=>{ee&&(L.code===W.delete||L.code===W.backspace)&&o("tabRemove",r,L)}},[ke,Pe])});return f("div",{ref:l,class:[t.e("nav-wrap"),t.is("scrollable",!!b.value),t.is(s.props.tabPosition)]},[d,f("div",{class:t.e("nav-scroll"),ref:v},[f("div",{class:[t.e("nav"),t.is(s.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:y,style:R.value,role:"tablist",onKeydown:P},[e.type?null:f(dt,{ref:g,tabs:[...e.panes]},null),p])])])}}}),pt=G({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ve(Function),default:()=>!0},stretch:Boolean}),oe=e=>Ue(e)||qe(e),mt={[Ne]:e=>oe(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>oe(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>oe(e),tabAdd:()=>!0},ht=F({name:"ElTabs",props:pt,emits:mt,setup(e,{emit:a,slots:o,expose:s}){var t;const n=H("tabs"),c=V(()=>["left","right"].includes(e.tabPosition)),{children:v,addChild:y,removeChild:l}=tt(J(),"ElTabPane"),g=S(),b=S((t=e.modelValue)!=null?t:"0"),m=async(i,w=!1)=>{var B,z,P;if(!(b.value===i||he(i)))try{await((B=e.beforeLeave)==null?void 0:B.call(e,i,b.value))!==!1&&(b.value=i,w&&(a(Ne,i),a("tabChange",i)),(P=(z=g.value)==null?void 0:z.removeFocus)==null||P.call(z))}catch(x){}},u=(i,w,B)=>{i.props.disabled||(m(w,!0),a("tabClick",i,B))},C=(i,w)=>{i.props.disabled||he(i.props.name)||(w.stopPropagation(),a("edit",i.props.name,"remove"),a("tabRemove",i.props.name))},_=()=>{a("edit",void 0,"add"),a("tabAdd")};D(()=>e.modelValue,i=>m(i)),D(b,async()=>{var i;await fe(),(i=g.value)==null||i.scrollToActiveTab()}),Ke(Q,{props:e,currentName:b,registerPane:i=>{v.value.push(i)},sortPane:y,unregisterPane:l}),s({currentName:b});const R=({render:i})=>i();return()=>{const i=o["add-icon"],w=e.editable||e.addable?f("div",{class:[n.e("new-tab"),c.value&&n.e("new-tab-vertical")],tabindex:"0",onClick:_,onKeydown:P=>{P.code===W.enter&&_()}},[i?q(o,"add-icon"):f(K,{class:n.is("icon-plus")},{default:()=>[f(De,null,null)]})]):null,B=f("div",{class:[n.e("header"),c.value&&n.e("header-vertical"),n.is(e.tabPosition)]},[f(R,{render:()=>{const P=v.value.some(x=>x.slots.label);return f(ft,{ref:g,currentName:b.value,editable:e.editable,type:e.type,panes:v.value,stretch:e.stretch,onTabClick:u,onTabRemove:C},{$stable:!P})}},null),w]),z=f("div",{class:n.e("content")},[q(o,"default")]);return f("div",{class:[n.b(),n.m(e.tabPosition),{[n.m("card")]:e.type==="card",[n.m("border-card")]:e.type==="border-card"}]},[z,B])}}}),yt=G({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),$e="ElTabPane",gt=F({name:$e}),_t=F({...gt,props:yt,setup(e){const a=e,o=J(),s=Ge(),t=U(Q);t||pe($e,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const n=H("tab-pane"),c=S(),v=V(()=>a.closable||t.props.closable),y=ye(()=>{var u;return t.currentName.value===((u=a.name)!=null?u:c.value)}),l=S(y.value),g=V(()=>{var u;return(u=a.name)!=null?u:c.value}),b=ye(()=>!a.lazy||l.value||y.value);D(y,u=>{u&&(l.value=!0)});const m=He({uid:o.uid,slots:s,props:a,paneName:g,active:y,index:c,isClosable:v});return t.registerPane(m),Te(()=>{t.sortPane(m)}),We(()=>{t.unregisterPane(m.uid)}),(u,C)=>h(b)?je((I(),de("div",{key:0,id:"pane-".concat(h(g)),class:M(h(n).b()),role:"tabpanel","aria-hidden":!h(y),"aria-labelledby":"tab-".concat(h(g))},[q(u.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Je,h(y)]]):ie("v-if",!0)}});var Ee=be(_t,[["__file","tab-pane.vue"]]);const $t=_e(ht,{TabPane:Ee}),Et=Qe(Ee);export{Et as E,$t as a,St as b};
