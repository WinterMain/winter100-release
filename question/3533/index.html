<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>CSS3 100vh在移动浏览器中不是恒定的 - Winter100</title>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KZ1S1HBYLX"></script>
<link rel="stylesheet" type="text/css" href="/iconfont/iconfont.css?t=20240930">
<link rel="stylesheet" href="/_nuxt/entry.hBSYw5Ke.css">
<link rel="stylesheet" href="/_nuxt/default.CerbM5oS.css">
<link rel="stylesheet" href="/_nuxt/Main.DNckYZCw.css">
<link rel="stylesheet" href="/_nuxt/Discuss.B5xG6lk2.css">
<link rel="stylesheet" href="/_nuxt/NewList.B56uyASM.css">
<link rel="stylesheet" href="/_nuxt/all.BFkK1imR.css">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/question/3533/_payload.json?09ca4141-1d6c-489a-a335-bd085a1889b1">
<script src="/_nuxt/CrQvFcQD-legacy.js" nomodule crossorigin></script>
<script src="/_nuxt/CdGfaU7A-legacy.js" nomodule crossorigin></script>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-KZ1S1HBYLX');
</script>
<meta property="og:title" content="CSS3 100vh在移动浏览器中不是恒定的 - Winter100">
<meta name="description" content="我有一个非常奇怪的问题……在每个浏览器和移动版本中，我都遇到了以下问题：


加载页面时，所有浏览器都有一个顶部菜单（例如，显示地址栏），当您开始滚动页面...">
<meta property="og:description" content="我有一个非常奇怪的问题……在每个浏览器和移动版本中，我都遇到了以下问题：


加载页面时，所有浏览器都有一个顶部菜单（例如，显示地址栏），当您开始滚动页面...">
<meta property="og:image" content>
<meta name="twitter:card" content="summary_large_image">
<script type="module" src="/_nuxt/Cp_KR1PM.js" crossorigin></script></head><body><div id="el-popper-container-1024"><!--teleport start anchor--><!--[--><div style="z-index:2001;position:absolute;left:0;top:0;width:120px;display:none;" class="el-popper is-light el-popover c-lang-legal-popover" tabindex="-1" aria-hidden="true"><!--[--><!--[--><!--[--><!--[--><!--v-if--><!--[--><div class="c-lang-legal-box"><div class="c-contain"><ul class="c-list"><!--[--><li class="item-list list-item-active"><img src="/images/cn.svg" class="mr-12"><div class="flex-shrink-0">简体中文</div></li><li class="item-list false"><img src="/images/cn.svg" class="mr-12"><div class="flex-shrink-0">繁体中文</div></li><li class="item-list false"><img src="/images/en.svg" class="mr-12"><div class="flex-shrink-0">English</div></li><!--]--></ul></div></div><!--]--><!--]--><span class="el-popper__arrow" style="position:absolute;" data-popper-arrow></span><!--]--><!--]--><!--]--></div><!--]--><!--teleport anchor--><!--teleport start anchor--><!--[--><!--v-if--><!--]--><!--teleport anchor--><!--teleport start anchor--><!--[--><!--v-if--><!--]--><!--teleport anchor--></div><div id="__nuxt"><!--[--><section class="el-container is-vertical l-home"><!--[--><div class="nuxt-loading-indicator" style="position:fixed;top:0;right:0;left:0;pointer-events:none;width:auto;height:3px;opacity:0;background:repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%);background-size:Infinity% auto;transform:scaleX(0%);transform-origin:left;transition:transform 0.1s, height 0.4s, opacity 0.4s;z-index:999999;"></div><!--[--><!----><!--]--><!--[--><!----><!--]--><div class="c-common-header"><header class="el-header c-common-header-inner" style=""><!--[--><a href="/" class="flex space-x-8 items-center"><div class="sub-logo"><svg t="1696732448231" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6740" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><defs><linearGradient id="left-to-right"><stop offset="0" stop-color="#ed3da1"><animate dur="3s" attributeName="offset" fill="freeze" values="-1;2;0" repeatCount="indefinite"></animate></stop><stop offset="0" stop-color="#ffe9f6"><animate dur="3s" attributeName="offset" fill="freeze" values="-1;2;0" repeatCount="indefinite"></animate></stop></linearGradient></defs><path d="M105.321374 914.265136c-11.700669 0-17.551004-11.702475-17.551003-17.541972 0-5.870203 5.850335-17.551004 11.7097-17.551004 269.155125-111.194286 561.722425-169.684988 848.441196-181.3983v5.839497c23.410369 0 52.662042-5.839497 76.076024-5.839497v11.711506c-292.558269 29.251673-579.284266 87.756824-854.300562 175.535323-17.551004 17.541972-40.964985 23.403144-64.375355 29.244447zM772.382332 580.741882c-29.260704 0-58.514183-5.861172-76.054349-29.240835-17.55281-23.412175-35.123682-46.826157-35.123681-76.079636 0-81.917327 23.403144-157.984319 76.068798-222.350642 46.835188-64.377161 117.042815-111.168999 193.106195-140.433316 29.251673 0 52.654817 17.563647 64.368129 40.954148-5.862978 5.850335-11.711506 11.711506-17.563647 11.711506 29.251673 11.700669 40.952342 35.102007 40.952342 64.366324 5.862978 163.834654-99.459299 310.121916-245.753787 351.072451z m157.996963-374.484627c-11.702475 5.850335-29.273347 17.551004-40.954148 29.264316-5.870203 0-5.870203-5.850335-5.870203-11.711506-87.778499 52.665654-146.281844 146.294487-152.114116 245.742949 0 11.711506 5.832272 52.665654 23.38147 46.835188 29.284184-11.7097 52.662042-23.423013 70.225688-46.835188 19.503523-21.441593 39.00524-42.894024 58.506958-64.344648 35.121876-46.81532 58.535857-105.320471 70.216658-163.847297 11.700669-17.55281-5.848528-29.253479-23.392307-35.103814zM122.872378 288.185419l-64.366323 29.251673c-5.839497 5.839497-11.689832 5.839497-17.540167 5.839497-5.862978 0-5.862978-11.713313-5.862978-17.540166 0-17.551004 11.713313-29.264316 29.273347-35.114651 35.103813-29.264316 70.20582-52.654817 111.158163-70.216657 17.551004 5.850335 29.264316 23.403144 35.11465 40.952341 0 17.540166 0 17.540166-81.919133 204.812282-29.249866 58.505151-52.651204 122.873281-58.523213 187.237798 0 5.852141 5.872009 17.55281 5.872009 23.412176v5.841303c-1.959745 1.948907-3.910458 3.912264-5.872009 5.861172-5.830466 0-11.700669 0-11.700669-5.861172-29.253479 0-52.663848-17.55281-58.505152-46.804482 0-46.813513 11.711506-99.470137 29.251673-140.433316 23.413982-64.366323 58.517795-122.871475 93.619802-187.237798zM637.792126 282.326054c11.700669 157.984319-87.760436 298.417635-239.892614 339.380813-29.264316 0-58.515989-5.850335-76.07783-29.264316-23.401338-17.561841-35.092976-46.813513-35.092976-76.056155 0-81.926358 23.403144-157.99335 76.068798-222.359673 46.804482-64.355486 117.008497-111.159968 193.086327-140.433316 29.242642 0 52.665654 17.551004 64.368129 40.975823-5.852141 5.839497-11.702475 11.689832-17.55281 11.689832 17.551004 17.549197 35.092976 46.811707 35.092976 76.066992z m-81.908295-35.103814c-11.7097 5.850335-29.260704 17.551004-40.963179 29.251673-5.850335 0-5.850335-5.850335-5.850335-11.700669-87.769468 52.665654-146.272813 146.28365-152.135791 245.762818 0 11.680801 5.862978 52.663848 23.413982 46.793645 29.251673-11.702475 52.665654-23.403144 70.20582-46.793645a140273.571944 140273.571944 0 0 0 58.515989-64.366324c35.103813-46.826157 58.514183-105.320471 70.214852-163.84549 11.713313-17.551004-5.839497-29.253479-23.401338-35.102008zM23.414885 808.944665c269.155125-111.170806 561.711587-169.684988 848.437584-181.3983v5.859365c29.251673 0 52.665654-5.859366 76.068798-5.859365v11.711506c-292.558269 29.26251-579.287878 87.778499-854.302368 175.544354-23.413982 11.713313-40.954148 17.554616-64.36813 23.3905h-5.837691c-5.872009 0-11.702475-5.835885-11.702475-17.551003 3.903233-3.896009 7.804661-7.797436 11.704282-11.697057z" fill="url(#left-to-right)" p-id="6741" class="logo-path"></path></svg></div><img class="h-40" src="/logo.svg"></a><div class="nav-items"><!--[--><!--[--><a href="/" class="nav-item">首页</a><!--]--><!--[--><a href="/question" class="nav-item active">问答</a><!--]--><!--[--><a href="/blog" class="nav-item">博客</a><!--]--><!--[--><a href="/about" class="nav-item">关于</a><!--]--><!--[--><a href="/message" class="nav-item">留言</a><!--]--><!--[--><a class="nav-item" target="_blank" rel="noopener noreferrer" href="https://tools.winter100.com">工具箱</a><!--]--><!--]--></div><div class="flex-1"></div><div class="c-lang-legal xs:hidden"><!--[--><span class="relative ml-32 inline-flex items-center cursor-pointer border-gray-06 border px-8 py-4 rounded-8 el-tooltip__trigger el-tooltip__trigger"><img src="/images/cn.svg" class="mr-8"> 简体中文 <i class="el-icon ml-4 text-12" style=""><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><path fill="currentColor" d="m192 384 320 384 320-384z"></path></svg><!--]--></i></span><!--teleport start--><!--teleport end--><!--]--></div><i class="iconfont icon-caidan text-theme hover:opacity-70 text-28 hidden xs:block"></i><!--]--></header><!----></div><main class="l-default-home"><!--[--><div class="c-question-main"><div class="page-container pt-30 pb-60"><div class="c-outer"><div class="article-area"><h1 class="article-title">CSS3 100vh在移动浏览器中不是恒定的</h1><p class="article-meta" style="color:#8590a6;"><span>小胖</span><i class="iconfont icon-time text-12 ml-12"></i><span>2020-03-24</span></p><div class="article-content code-content"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我有一个非常奇怪的问题……在每个浏览器和移动版本中，我都遇到了以下问题：</font></font></p>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载页面时，所有浏览器都有一个顶部菜单（例如，显示地址栏），当您开始滚动页面时，该菜单会向上滑动。</font></font></li>
<li><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有时</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅在视口的可见部分计算</font><font style="vertical-align: inherit;">100vh </font><font style="vertical-align: inherit;">，因此当浏览器栏向上滑动时100vh会增加（以像素为单位）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于尺寸已更改，所有布局都会重新绘制和重新调整</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对用户体验的不良影响</font></font></li>
</ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何避免这个问题？</font><font style="vertical-align: inherit;">当我第一次听说viewport-height时，我很兴奋，我以为可以将其用于固定高度块而不是使用javascript，但是现在我认为唯一的方法实际上是带有一些resize事件的javascript ...</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以在以下</font><a href="http://alphafitness.altervista.org/log.php" rel="noreferrer"><font style="vertical-align: inherit;">示例中</font></a><font style="vertical-align: inherit;">看到问题：</font></font><a href="http://alphafitness.altervista.org/log.php" rel="noreferrer"><font style="vertical-align: inherit;"></font></a></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谁能帮我/建议CSS解决方案？</font></font></p>

<hr>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单的测试代码：</font></font></p>

<p></p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>/* maybe i can track the issue whe it occours... */<font></font>
$(function(){<font></font>
  var resized = -1;<font></font>
  $(window).resize(function(){<font></font>
    $('#currenth').val( $('.vhbox').eq(1).height() );<font></font>
    if (++resized) $('#currenth').css('background:#00c');<font></font>
  })<font></font>
  .resize();<font></font>
})</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>*{ margin:0; padding:0; }<font></font>
<font></font>
/*<font></font>
  this is the box which should keep constant the height...<font></font>
  min-height to allow content to be taller than viewport if too much text<font></font>
*/<font></font>
.vhbox{<font></font>
  min-height:100vh;<font></font>
  position:relative;<font></font>
}<font></font>
<font></font>
.vhbox .t{<font></font>
  display:table;<font></font>
  position:relative;<font></font>
  width:100%;<font></font>
  height:100vh;<font></font>
}<font></font>
<font></font>
.vhbox .c{<font></font>
  height:100%;<font></font>
  display:table-cell;<font></font>
  vertical-align:middle;<font></font>
  text-align:center;<font></font>
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;div class="vhbox" style="background-color:#c00"&gt;<font></font>
  &lt;div class="t"&gt;&lt;div class="c"&gt;<font></font>
  this div height should be 100% of viewport and keep this height when scrolling page<font></font>
    &lt;br&gt;<font></font>
    &lt;!-- this input highlight if resize event is fired --&gt;<font></font>
    &lt;input type="text" id="currenth"&gt;<font></font>
  &lt;/div&gt;&lt;/div&gt;<font></font>
&lt;/div&gt;<font></font>
<font></font>
&lt;div class="vhbox" style="background-color:#0c0"&gt;<font></font>
  &lt;div class="t"&gt;&lt;div class="c"&gt;<font></font>
  this div height should be 100% of viewport and keep this height when scrolling page<font></font>
  &lt;/div&gt;&lt;/div&gt;<font></font>
&lt;/div&gt;<font></font>
<font></font>
&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"&gt;&lt;/script&gt;</code></pre>
</div>
</div>
<p></p></div></div><div class="mt-20"><div class="discuss-wrapper"><div class="discuss-list"><!--[--><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">泡芙</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以尝试将</font></font><code>position: fixed; top: 0; bottom: 0;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font><font style="vertical-align: inherit;">赋予</font><font style="vertical-align: inherit;">容器。</font></font></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">十三飞云</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在移动设备上使用vh不能与100vh一起使用，因为它们的设计选择是使用设备的整个高度，不包括任何地址栏等。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果要查找包含与真实视图高度成比例的div高度的布局，请使用以下纯CSS解决方案：</font></font></p>

<pre><code>:root {<font></font>
  --devHeight: 86vh; //*This value changes<font></font>
}<font></font>
<font></font>
.div{<font></font>
    height: calc(var(--devHeight)*0.10); //change multiplier to suit required height<font></font>
}<font></font>
</code></pre>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您有两个用于设置视口高度的选项，将--devHeight手动设置为有效的高度（但是您需要为要编码的每种类型的设备输入该值）</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要么</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用javascript获取窗口高度，然后在加载和刷新视口时更新--devheight（但是这确实需要使用javascript，并且不是纯CSS解决方案）</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦获得正确的视图高度，就可以通过简单地更改分配高度的每个div中的乘数，以总视口高度的确切百分比创建多个div。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.10 =视图高度的10％0.57 =视图高度的57％</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">希望这可以帮助某人;）</font></font></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">十三</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对我来说，这样的把戏很成功：</font></font></p>

<pre><code>height: calc(100vh - calc(100vh - 100%))
</code></pre></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">乐</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为</font></font><a href="https://stackoverflow.com/a/37113430/6734406"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会被修复，所以您可以执行以下操作：</font></font></p>

<pre><code># html<font></font>
&lt;body&gt;<font></font>
  &lt;div class="content"&gt;<font></font>
    &lt;!-- Your stuff here --&gt;<font></font>
  &lt;/div&gt;<font></font>
&lt;/body&gt;<font></font>
<font></font>
# css<font></font>
.content {<font></font>
  height: 80vh;<font></font>
}<font></font>
</code></pre>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对我来说，这是比使用JavaScript最快，更纯净的解决方案，而JavaScript无法在许多设备和浏览器上运行。 </font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只要使用</font></font><code>vh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适合您需求的</font><font style="vertical-align: inherit;">适当值即可</font><font style="vertical-align: inherit;">。</font></font></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">老丝</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下为我工作：</font></font></p>

<pre><code>html { height: 100vh; }<font></font>
<font></font>
body {<font></font>
  top: 0;<font></font>
  left: 0;<font></font>
  right: 0;<font></font>
  bottom: 0;<font></font>
  width: 100vw;<font></font>
}<font></font>
<font></font>
/* this is the container you want to take the visible viewport  */<font></font>
/* make sure this is top-level in body */<font></font>
#your-app-container {<font></font>
  height: 100%;<font></font>
}<font></font>
</code></pre>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将可视视口的高度，并</font></font><code>#your-app-container</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><code>height: 100%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将使该容器采取可见视口的高度。</font></font></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">GO</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">希望这将是一个UA定义的CSS环境变量，如下所示：</font><a href="https://github.com/w3c/csswg-drafts/issues/2630#issuecomment-397536046" rel="nofollow noreferrer"><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://github.com/w3c/csswg-drafts/issues/2630#issuecomment-397536046" rel="nofollow noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/w3c/csswg-drafts/issues/2630#issuecomment-397536046</font></font></a></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">MandyGil</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是我用于我的React应用程序的一种解决方法。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iPhone 11 Pro和iPhone Pro Max-120像素</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iPhone 8-80像素</font></font></p>

<pre><code>max-height: calc(100vh - 120px);
</code></pre>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个折衷，但相对简单的修复</font></font></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">番长</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我刚刚发现我设计的Web应用程序在iPhone和iPad上存在此问题，并且发现了一篇文章，建议使用针对特定Apple设备的媒体查询来解决该问题。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我不知道我是否可以在此处共享该文章中的代码，但是地址是这样的：</font><a href="http://webdesignerwall.com/tutorials/css-fix-for-ios-vh-unit-bug" rel="nofollow noreferrer"><font style="vertical-align: inherit;">http</font></a><font style="vertical-align: inherit;"> : </font></font><a href="http://webdesignerwall.com/tutorials/css-fix-for-ios-vh-unit-bug" rel="nofollow noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//webdesignerwall.com/tutorials/css-fix-for-ios-vh-unit-bug</font></font></a></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用文章：“使用针对旧版本iPhone和iPad分辨率的媒体查询，使元素高度与设备高度匹配。”</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们仅添加了6个媒体查询来适应全高元素，并且它完全由CSS实施，因此可以正常工作。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">待编辑中：我目前无法测试，但我会回来报告结果。</font></font></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">达蒙路易</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@nils清楚地解释了这一点。 </font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那接下来呢？</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我只是回过头来</font><font style="vertical-align: inherit;">在CSS中</font><font style="vertical-align: inherit;">使用相对的“经典” </font></font><strong><code>%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（百分比）</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现某些事情通常比使用它要付出更多的努力</font></font><code>vh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是至少，您有一个相当稳定的解决方案，该解决方案可以在不同的设备和浏览器上工作，而不会出现奇怪的UI故障。</font></font></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">LEY猿</span><span class="discuss-time">2020/03/24 16:09:04</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我想出了一个React组件– </font></font><a href="http://npmjs.com/package/react-div-100vh" rel="noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您是否使用React或不使用</font><a href="http://npmjs.com/package/react-div-100vh" rel="noreferrer"><font style="vertical-align: inherit;">它</font></a></font><a href="https://github.com/mvasin/react-div-100vh" rel="noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浏览源代码</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以便可以使其适应您的环境。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它将全屏div的高度设置为</font></font><code>window.innerHeight</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后在调整窗口大小时对其进行更新。</font></font></p></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">番长猴子</span><span class="discuss-time">2020/03/24 16:09:03</span></div><div class="discuss-comment"><p><strong>Unfortunately this is intentional…</strong></p>

<p>This is a well know issue (at least in safari mobile), which is intentional, as it prevents other problems. <a href="https://bugs.webkit.org/show_bug.cgi?id=141832" rel="noreferrer">Benjamin Poulain replied to a webkit bug</a>:</p>

<blockquote>
  <p>This is completely intentional. It took quite a bit of work on our part to achieve this effect. :)</p>
  
  <p>The base problem is this: the visible area changes dynamically as you scroll. If we update the CSS viewport height accordingly, we need to update the layout during the scroll. Not only that looks like shit, but doing that at 60 FPS is practically impossible in most pages (60 FPS is the baseline framerate on iOS).</p>
  
  <p>It is hard to show you the “looks like shit” part, but imagine as you scroll, the contents moves and what you want on screen is continuously shifting.</p>
  
  <p>Dynamically updating the height was not working, we had a few choices: drop viewport units on iOS, match the document size like before iOS 8, use the small view size, use the large view size.</p>
  
  <p>From the data we had, using the larger view size was the best compromise. Most website using viewport units were looking great most of the time.</p>
</blockquote>

<p>Nicolas Hoizey has researched this quite a bit: <a href="https://nicolas-hoizey.com/2015/02/viewport-height-is-taller-than-the-visible-part-of-the-document-in-some-mobile-browsers.html" rel="noreferrer">https://nicolas-hoizey.com/2015/02/viewport-height-is-taller-than-the-visible-part-of-the-document-in-some-mobile-browsers.html</a></p>

<p><strong>No fix planned</strong></p>

<p>At this point, there is not much you can do except refrain from using viewport height on mobile devices. Chrome changed to this as well in 2016:</p>

<ul>
<li><a href="https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/BK0oHURgmJ4" rel="noreferrer">https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/BK0oHURgmJ4</a></li>
<li><a href="https://developers.google.com/web/updates/2016/12/url-bar-resizing" rel="noreferrer">https://developers.google.com/web/updates/2016/12/url-bar-resizing</a></li>
</ul></div><!----></div></div><div class="discuss-item"><div class="discuss-parent"><div class="discuss-meta"><span class="discuss-user">卡卡西Near</span><span class="discuss-time">2020/03/24 16:09:03</span></div><div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以尝试</font></font><code>min-height: -webkit-fill-available;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用CSS而不是</font></font><code>100vh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">应该解决</font></font></p></div><!----></div></div><!--]--></div></div></div><div class="c-block-comment"><!----></div></div><div class="c-aside"><div class="fixed-area"><div class="question-list"><p class="title">最新问答</p><div class="body"><!--[--><div class="a-list-item"><a href="/question/4376" class=""><div class="inner-item"><!----><span class="flex-1">HTML5 Drag &amp; Drop 拖动时更改图标/光标</span></div><div class="text-12 text-theme mt-4">5 <span>回答</span></div></a></div><div class="a-list-item"><a href="/question/4375" class=""><div class="inner-item"><!----><span class="flex-1">如何完全卸载 Node.js，然后从头重新安装 (Mac OS X)</span></div><div class="text-12 text-theme mt-4">25 <span>回答</span></div></a></div><div class="a-list-item"><a href="/question/4342" class=""><div class="inner-item"><!----><span class="flex-1">MAC终端删除代理有效命令</span></div><div class="text-12 text-theme mt-4">1 <span>回答</span></div></a></div><div class="a-list-item"><a href="/question/4338" class=""><div class="inner-item"><!----><span class="flex-1">vue动态路由跳转同一地址不刷新页面</span></div><div class="text-12 text-theme mt-4">0 <span>回答</span></div></a></div><div class="a-list-item"><a href="/question/4336" class=""><div class="inner-item"><!----><span class="flex-1">NUXT引入tailwindcss报错Error: Expected an opening square bracket.</span></div><div class="text-12 text-theme mt-4">1 <span>回答</span></div></a></div><!--]--></div></div><div class="c-adsense side-adsense"><div class="ad-container"><!----></div></div></div></div></div></div><!--]--></main><div class="c-footer"><div class="common-footer-inner"><div class="logo-contract"><a href="/" class="inline-flex space-x-8 items-center"><div class="sub-logo"><svg t="1696732448231" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6740" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><defs><linearGradient id="left-to-right"><stop offset="0" stop-color="#ed3da1"><animate dur="3s" attributeName="offset" fill="freeze" values="-1;2;0" repeatCount="indefinite"></animate></stop><stop offset="0" stop-color="#ffe9f6"><animate dur="3s" attributeName="offset" fill="freeze" values="-1;2;0" repeatCount="indefinite"></animate></stop></linearGradient></defs><path d="M105.321374 914.265136c-11.700669 0-17.551004-11.702475-17.551003-17.541972 0-5.870203 5.850335-17.551004 11.7097-17.551004 269.155125-111.194286 561.722425-169.684988 848.441196-181.3983v5.839497c23.410369 0 52.662042-5.839497 76.076024-5.839497v11.711506c-292.558269 29.251673-579.284266 87.756824-854.300562 175.535323-17.551004 17.541972-40.964985 23.403144-64.375355 29.244447zM772.382332 580.741882c-29.260704 0-58.514183-5.861172-76.054349-29.240835-17.55281-23.412175-35.123682-46.826157-35.123681-76.079636 0-81.917327 23.403144-157.984319 76.068798-222.350642 46.835188-64.377161 117.042815-111.168999 193.106195-140.433316 29.251673 0 52.654817 17.563647 64.368129 40.954148-5.862978 5.850335-11.711506 11.711506-17.563647 11.711506 29.251673 11.700669 40.952342 35.102007 40.952342 64.366324 5.862978 163.834654-99.459299 310.121916-245.753787 351.072451z m157.996963-374.484627c-11.702475 5.850335-29.273347 17.551004-40.954148 29.264316-5.870203 0-5.870203-5.850335-5.870203-11.711506-87.778499 52.665654-146.281844 146.294487-152.114116 245.742949 0 11.711506 5.832272 52.665654 23.38147 46.835188 29.284184-11.7097 52.662042-23.423013 70.225688-46.835188 19.503523-21.441593 39.00524-42.894024 58.506958-64.344648 35.121876-46.81532 58.535857-105.320471 70.216658-163.847297 11.700669-17.55281-5.848528-29.253479-23.392307-35.103814zM122.872378 288.185419l-64.366323 29.251673c-5.839497 5.839497-11.689832 5.839497-17.540167 5.839497-5.862978 0-5.862978-11.713313-5.862978-17.540166 0-17.551004 11.713313-29.264316 29.273347-35.114651 35.103813-29.264316 70.20582-52.654817 111.158163-70.216657 17.551004 5.850335 29.264316 23.403144 35.11465 40.952341 0 17.540166 0 17.540166-81.919133 204.812282-29.249866 58.505151-52.651204 122.873281-58.523213 187.237798 0 5.852141 5.872009 17.55281 5.872009 23.412176v5.841303c-1.959745 1.948907-3.910458 3.912264-5.872009 5.861172-5.830466 0-11.700669 0-11.700669-5.861172-29.253479 0-52.663848-17.55281-58.505152-46.804482 0-46.813513 11.711506-99.470137 29.251673-140.433316 23.413982-64.366323 58.517795-122.871475 93.619802-187.237798zM637.792126 282.326054c11.700669 157.984319-87.760436 298.417635-239.892614 339.380813-29.264316 0-58.515989-5.850335-76.07783-29.264316-23.401338-17.561841-35.092976-46.813513-35.092976-76.056155 0-81.926358 23.403144-157.99335 76.068798-222.359673 46.804482-64.355486 117.008497-111.159968 193.086327-140.433316 29.242642 0 52.665654 17.551004 64.368129 40.975823-5.852141 5.839497-11.702475 11.689832-17.55281 11.689832 17.551004 17.549197 35.092976 46.811707 35.092976 76.066992z m-81.908295-35.103814c-11.7097 5.850335-29.260704 17.551004-40.963179 29.251673-5.850335 0-5.850335-5.850335-5.850335-11.700669-87.769468 52.665654-146.272813 146.28365-152.135791 245.762818 0 11.680801 5.862978 52.663848 23.413982 46.793645 29.251673-11.702475 52.665654-23.403144 70.20582-46.793645a140273.571944 140273.571944 0 0 0 58.515989-64.366324c35.103813-46.826157 58.514183-105.320471 70.214852-163.84549 11.713313-17.551004-5.839497-29.253479-23.401338-35.102008zM23.414885 808.944665c269.155125-111.170806 561.711587-169.684988 848.437584-181.3983v5.859365c29.251673 0 52.665654-5.859366 76.068798-5.859365v11.711506c-292.558269 29.26251-579.287878 87.778499-854.302368 175.544354-23.413982 11.713313-40.954148 17.554616-64.36813 23.3905h-5.837691c-5.872009 0-11.702475-5.835885-11.702475-17.551003 3.903233-3.896009 7.804661-7.797436 11.704282-11.697057z" fill="url(#left-to-right)" p-id="6741" class="logo-path"></path></svg></div><img class="h-50" src="/logo.svg"></a><div class="contacts"><!--[--><a class="contact-item" href="mailto:yldiswinter@gmail.com"><i class="iconfont icon-youxiang"></i></a><a class="contact-item" href="https://github.com/WinterMain"><i class="iconfont icon-github"></i></a><!--]--></div></div><div class="nav-area"><div class="pr-20"><p class="label"><span class="z-1">导航</span></p></div><div class="nav-items"><!--[--><!--[--><a href="/question" class="nav-item">问答</a><!--]--><!--[--><a href="/blog" class="nav-item">博客</a><!--]--><!--[--><a href="/message" class="nav-item">留言</a><!--]--><!--[--><a class="nav-item" target="_blank" rel="noopener noreferrer" href="https://tools.winter100.com">工具箱</a><!--]--><!--]--></div></div><div class="donate-area"><div class="pr-20"><p class="label"><span class="z-1">打赏</span></p></div><div class="donate-list"><!--[--><div class="donate-item"><div class="c-common-qrcode"><canvas style="width:60px;height:60px;"></canvas></div><div class="ml-12"><div class="flex items-center mt-4"><img src="/images/btc.png" height="30" class="h-20"><span class="ml-8 text-primary font-w500 text-16 flex-1">BTC</span><!--[--><span class="c-copy el-tooltip__trigger el-tooltip__trigger"><i class="el-icon text-12" style=""><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><path fill="currentColor" d="M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"></path><path fill="currentColor" d="M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"></path></svg><!--]--></i></span><!--teleport start--><!--teleport end--><!--]--></div><p class="mt-12 text-addr"><span class="">1Q6ZDFC3FueXY3JocmeMqgiSsGGtppbvz2</span></p></div></div><div class="donate-item"><div class="c-common-qrcode"><canvas style="width:60px;height:60px;"></canvas></div><div class="ml-12"><div class="flex items-center mt-4"><img src="/images/eth.png" height="30" class="h-20"><span class="ml-8 text-primary font-w500 text-16 flex-1">ETH</span><!--[--><span class="c-copy el-tooltip__trigger el-tooltip__trigger"><i class="el-icon text-12" style=""><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><path fill="currentColor" d="M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"></path><path fill="currentColor" d="M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"></path></svg><!--]--></i></span><!--teleport start--><!--teleport end--><!--]--></div><p class="mt-12 text-addr"><span class="">0xff6FC30033269845d196cB48F6a0660598D218D8</span></p></div></div><!--]--></div></div><div class="flex-1 ml-20 flex justify-end xs:hidden"><div class="c-adsense mt-0"><div class="ad-container"><!----></div></div></div></div></div><!--v-if--><!--]--></section><!--]--></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr id="__NUXT_DATA__" data-src="/question/3533/_payload.json?09ca4141-1d6c-489a-a335-bd085a1889b1">[{"state":1,"once":7,"_errors":8,"serverRendered":10,"path":11,"pinia":12,"prerenderedAt":43},["Reactive",2],{"$ssite-config":3},{"env":4,"name":5,"url":6},"production","Winter 100分","https://winter100.com/",["Set"],["ShallowReactive",9],{},true,"/question/3533",["Reactive",13],{"lang":14,"main":27},{"langOptions":15,"lang":17,"defaultLang":17},[16,20,23],{"val":17,"text":18,"icon":19},"zh_Hans_CN","简体中文","/images/cn.svg",{"val":21,"text":22,"icon":19},"zh_Hant_HK","繁体中文",{"val":24,"text":25,"icon":26},"en_US","English","/images/en.svg",{"category":28,"nav":29,"likes":30,"donateCoins":31},"browserplugin","all",[],[32,36,40],{"coin":33,"address":34,"icon":35},"BTC","1Q6ZDFC3FueXY3JocmeMqgiSsGGtppbvz2","/images/btc.png",{"coin":37,"address":38,"icon":39},"ETH","0xff6FC30033269845d196cB48F6a0660598D218D8","/images/eth.png",{"coin":41,"address":38,"icon":42},"CET","/images/cet.png",1729877599205]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{MODE:"",NODE_ENV:"production",NAME:"winter100"},app:{baseURL:"/",buildId:"09ca4141-1d6c-489a-a335-bd085a1889b1",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>